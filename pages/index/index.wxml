<!--index.wxml-->
<view class='container index'>
  <image wx:if="{{isLoading}}" class='isLoading' src='/static/img/Spinner-1s-200px.svg'></image>
  <swiper indicator-dots="{{indicatorDots}}"
    autoplay="{{autoplay}}" interval="{{interval}}" duration="{{duration}}">
    <block wx:for="{{swiperData}}" wx:key="{{index}}">
      <swiper-item bindtap='jumpBook' data-id="{{item.book._id}}">
        <image src="{{item.img}}" class="slide-image"/>
      </swiper-item>
    </block>
  </swiper>

  <view class='main-content'>
    <view class='content-item' wx:for="{{mainContent}}" wx:key="{{index}}">
      <view class='title'>
        {{item.title}}
      </view>
      <view class='content' wx:for="{{item.books}}" wx:key="{{index}}">
        <view bindtap='jumpBook' data-id="{{item._id}}" class='content-img'>
          <image src='{{item.img}}'></image>
        </view>
        <view bindtap='jumpBook' data-id="{{item._id}}" class='content-r'>
          <view class='book-title'>{{item.title}}</view>
          <view class='book-r'>{{item.desc}}</view>
          <view class='author'>
            <text>{{item.author}}</text>
            <view class='author-r'>
              <text>两天前\t</text>
              <text>后端开发\t</text>
              <text>有{{item.looknums}}人在看</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>

